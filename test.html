<form>
    <input type="file" name="img">
    <button id="upload" value="Upload"></button>
</form>

<script>
document.getElementById("upload").addEventListener("click", function() {
    var input = document.querySelector('input[type=file]');
    var file = input.files[0];
    upload(file);
});

function upload(file) {
    var fd = new FormData();
    fd.append('file', file);
    console.log(file);

    var xhr = new XMLHttpRequest();
    xhr.open("POST", "/uploadImage");
    xhr.onloadend = function(d) {
        console.log("Finish sending");
    }
    xhr.send(fd);
}

</script>